<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™½é…’è¡Œä¸šè´¢åŠ¡åˆ†æç³»ç»Ÿ</title>
    <!-- è®¾ç½®åŸºç¡€è·¯å¾„ -->
   <base href="https://basaidelaing.githu b.io/finance-analyzer-demo/">
    <!-- EChartsåº“ -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <!-- å¤‡ç”¨CDN -->
    <script>
        // å¦‚æœEChartsåŠ è½½å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨CDN
        setTimeout(function() {
            if (!window.echarts) {
                console.log('EChartsåŠ è½½å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨CDN...');
                var script = document.createElement('script');
                script.src = 'https://cdn.bootcdn.net/ajax/libs/echarts/5.4.3/echarts.min.js';
                script.onload = function() {
                    console.log('å¤‡ç”¨EChartsåŠ è½½æˆåŠŸ');
                };
                script.onerror = function() {
                    console.error('æ‰€æœ‰ECharts CDNéƒ½åŠ è½½å¤±è´¥');
                };
                document.head.appendChild(script);
            }
        }, 3000);
    </script>
    
    <!-- æ ·å¼æ¨¡å— -->
    <link rel="stylesheet" href="css/blue-theme-simple.css">
    <link rel="stylesheet" href="css/layout-module.css">
    
    <!-- åº”ç”¨åŠ è½½å™¨ -->
    <script src="js/modules/app-loader-fixed.js?v=20260225_1835" type="module"></script>
    
    <style>
        /* å†…è”å…³é”®æ ·å¼ */
        .search-container {
            position: relative;
            margin-bottom: 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 40px 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #4a6fa5;
        }
        
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }
        
        .suggestion-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .suggestion-item:hover {
            background: #f5f7fa;
        }
        
        .suggestion-name {
            font-weight: 600;
            color: #333;
        }
        
        .suggestion-code {
            font-size: 12px;
            color: #666;
            margin-top: 2px;
        }
        
        /* ç›®å½•æ ·å¼ */
        .directory-group {
            margin-bottom: 10px;
        }
        
        .group-header {
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #2c5282;
        }
        
        .group-header:hover {
            background: #e8f0fe;
        }
        
        .group-content {
            padding: 10px 0 10px 15px;
        }
        
        .sub-group {
            margin-bottom: 15px;
        }
        
        .sub-group-title {
            font-size: 13px;
            color: #666;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .indicator-item {
            padding: 8px 12px;
            margin-bottom: 5px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .indicator-item:hover {
            background: #f0f7ff;
        }
        
        .indicator-item.active {
            background: #4a6fa5;
            color: white;
        }
        
        .indicator-code {
            font-weight: 600;
            margin-right: 10px;
            min-width: 40px;
        }
        
        /* æ ‡ç­¾é¡µæ ·å¼ */
        .tab-navigation {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            padding: 12px 24px;
            background: none;
            border: none;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
        }
        
        .tab-btn:hover {
            color: #4a6fa5;
        }
        
        .tab-btn.active {
            color: #4a6fa5;
            border-bottom-color: #4a6fa5;
        }
        
        .tab-pane {
            display: none;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        /* å ä½ç¬¦æ ·å¼ */
        .placeholder {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .placeholder-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .placeholder h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        /* å›¾è¡¨å®¹å™¨ */
        #mainChart {
            width: 100%;
            height: 400px;
        }
        
        /* æ•°æ®è¡¨æ ¼ */
        .data-table {
            overflow-x: auto;
        }
        
        .data-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th,
        .data-table td {
            padding: 10px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }
        
        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
        }
        
        /* é”™è¯¯æ¶ˆæ¯ */
        .error-message {
            text-align: center;
            padding: 40px 20px;
            color: #e74c3c;
        }
        
        .error-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .tab-btn {
                padding: 10px 15px;
                font-size: 13px;
            }
            
            .group-header {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .indicator-item {
                padding: 6px 10px;
                font-size: 13px;
            }
        }
        
        /* å¤šå›¾è¡¨å¸ƒå±€æ ·å¼ */
        .charts-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .chart-container {
            background: #f0f9ff;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #bee3f8;
        }
        
        .chart-title {
            color: #2c5282;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .chart-canvas {
            width: 100%;
            height: 300px;
        }
    
        /* åŸºæœ¬é¡µé¢æ ·å¼ */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Segoe UI', sans-serif;
        }
        
        #appContainer {
            width: 100%;
            height: 100vh;
            display: block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
    </style>
</head>
<body>
    <!-- ä¸»åº”ç”¨å®¹å™¨ -->
    <div id="appContainer">
        <!-- åŠ è½½é®ç½© -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-spinner"></div>
            <p>åŠ è½½è´¢åŠ¡åˆ†æç³»ç»Ÿ...</p>
        </div>
        
        <!-- æœ€å°åŒ–ç•Œé¢ï¼ˆç¡®ä¿æœ‰å†…å®¹æ˜¾ç¤ºï¼‰ -->
        <div style="
            display: flex;
            width: calc(100% - 40px);
            height: calc(100vh - 40px);
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            margin: 20px;
            position: relative;
            z-index: 1;
        ">
            <!-- å·¦ä¾§è¾¹æ  -->
            <div style="
                width: 300px;
                background: #f8f9fa;
                border-right: 1px solid #e0e0e0;
                padding: 20px;
            ">
                <h3 style="color: #2c5282; margin-top: 0;">ğŸ” æœç´¢å…¬å¸</h3>
                <p>æœç´¢æ¨¡å—åŠ è½½ä¸­...</p>
                
                <h3 style="color: #2c5282; margin-top: 30px;">ğŸ“Š æŒ‡æ ‡ç›®å½•</h3>
                <p>ç›®å½•æ¨¡å—åŠ è½½ä¸­...</p>
            </div>
            
            <!-- å³ä¾§å†…å®¹ -->
            <div id="content-area" style="
                flex: 1;
                padding: 20px;
                background: white;
            ">
                <h2 style="color: #2c5282;">ç™½é…’è¡Œä¸šè´¢åŠ¡åˆ†æç³»ç»Ÿ</h2>
                <p>ç³»ç»Ÿæ­£åœ¨åˆå§‹åŒ–ï¼Œè¯·ç¨å€™...</p>
                
                <div style="
                    background: #f0f9ff;
                    padding: 20px;
                    border-radius: 8px;
                    margin-top: 20px;
                    border: 1px solid #bee3f8;
                ">
                    <h4>ğŸ“ˆ ç³»ç»ŸçŠ¶æ€</h4>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>âœ… æœåŠ¡å™¨è¿è¡Œæ­£å¸¸</li>
                        <li>âœ… å‰ç«¯æ–‡ä»¶å·²åŠ è½½ (7.4KB)</li>
                        <li>â³ æ¨¡å—åˆå§‹åŒ–ä¸­...</li>
                        <li>ğŸ”§ å¦‚é•¿æ—¶é—´ç©ºç™½ï¼Œè¯·åˆ·æ–°é¡µé¢</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- åŠ è½½çŠ¶æ€ -->
        <div id="loadingStatus" style="
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
        ">
            åŠ è½½æ—¶é—´: <span id="loadTime">0</span>ç§’ | æ¨¡å—: <span id="moduleStatus">ç­‰å¾…</span>
        </div>
        
        <script>
            // ç®€å•åŠ è½½è®¡æ—¶å’ŒçŠ¶æ€æ›´æ–°
            let startTime = Date.now();
            let moduleStatus = 'ç­‰å¾…';
            
            function updateStatus() {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const timeElement = document.getElementById('loadTime');
                const statusElement = document.getElementById('moduleStatus');
                
                if (timeElement) timeElement.textContent = elapsed;
                if (statusElement) statusElement.textContent = moduleStatus;
                
                // æ›´æ–°çŠ¶æ€
                if (elapsed > 5) moduleStatus = 'è¶…æ—¶';
                else if (elapsed > 3) moduleStatus = 'æ£€æŸ¥æ¨¡å—';
                else if (elapsed > 1) moduleStatus = 'åŠ è½½ä¸­';
            }
            
            setInterval(updateStatus, 1000);
            
            // æ£€æŸ¥ModuleLoaderï¼ˆåªæ£€æŸ¥ä¸é‡å¤åˆå§‹åŒ–ï¼‰
            setTimeout(() => {
                console.log('æ£€æŸ¥ModuleLoaderçŠ¶æ€...');
                if (typeof window.ModuleLoader !== 'undefined') {
                    moduleStatus = 'åŠ è½½å™¨å°±ç»ª';
                    console.log('ModuleLoaderçŠ¶æ€: å·²åŠ è½½');
                    
                    // æ£€æŸ¥æ˜¯å¦å·²ç»åˆå§‹åŒ–è¿‡
                    if (window.ModuleLoader._initialized) {
                        moduleStatus = 'å·²åˆå§‹åŒ–';
                        console.log('ModuleLoaderå·²ç»åˆå§‹åŒ–è¿‡');
                    }
                } else {
                    moduleStatus = 'åŠ è½½å™¨æœªæ‰¾åˆ°';
                    console.warn('ModuleLoaderæœªåŠ è½½');
                }
            }, 1000);
            
            // 3ç§’åéšè—åŠ è½½é®ç½©ï¼ˆå³ä½¿æ¨¡å—æœªåŠ è½½ï¼‰
            setTimeout(() => {
                const overlay = document.getElementById('loadingOverlay');
                if (overlay) {
                    overlay.style.opacity = '0';
                    setTimeout(() => {
                        overlay.style.display = 'none';
                        moduleStatus = 'ç•Œé¢å°±ç»ª';
                    }, 500);
                }
            }, 3000);
        </script>
    </div>
    
    <!-- åˆå§‹åŒ–è„šæœ¬ -->
    <script>
        // æ£€æŸ¥æ¨¡å—åŠ è½½å™¨
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOMåŠ è½½å®Œæˆï¼Œæ£€æŸ¥æ¨¡å—åŠ è½½å™¨...');
            
            if (typeof window.ModuleLoader === 'undefined') {
                console.warn('æ¨¡å—åŠ è½½å™¨æœªåŠ è½½ï¼Œæ˜¾ç¤ºé™çº§ç•Œé¢...');
                
                // å®‰å…¨åœ°éšè—åŠ è½½é®ç½©
                const loadingOverlay = document.getElementById('loadingOverlay');
                if (loadingOverlay) {
                    loadingOverlay.style.display = 'none';
                }
                
                // åˆ›å»ºç®€å•çš„é™çº§ç•Œé¢
                const appContainer = document.getElementById('appContainer');
                if (appContainer) {
                    appContainer.innerHTML = `
                        <div class="error-state">
                            <div class="icon">âš ï¸</div>
                            <h3>åº”ç”¨åŠ è½½å¤±è´¥</h3>
                            <p>æ¨¡å—åŠ è½½å™¨æœªèƒ½æ­£ç¡®åŠ è½½</p>
                            <button onclick="location.reload()" class="retry-btn">é‡æ–°åŠ è½½</button>
                        </div>
                    `;
                }
            } else {
                console.log('æ¨¡å—åŠ è½½å™¨å·²åŠ è½½ï¼Œå¼€å§‹åˆå§‹åŒ–...');
                
                // ç«‹å³å¼€å§‹åˆå§‹åŒ–
                setTimeout(() => {
                    try {
                        window.ModuleLoader.initApp().catch(error => {
                            console.error('åº”ç”¨åˆå§‹åŒ–å¤±è´¥:', error);
                            
                            // æ˜¾ç¤ºé”™è¯¯ç•Œé¢
                            const appContainer = document.getElementById('appContainer');
                            if (appContainer) {
                                appContainer.innerHTML = `
                                    <div class="error-state">
                                        <div class="icon">âš ï¸</div>
                                        <h3>åº”ç”¨åˆå§‹åŒ–å¤±è´¥</h3>
                                        <p>${error.message || 'æœªçŸ¥é”™è¯¯'}</p>
                                        <button onclick="location.reload()" class="retry-btn">é‡æ–°åŠ è½½</button>
                                    </div>
                                `;
                            }
                        });
                    } catch (error) {
                        console.error('åˆå§‹åŒ–è°ƒç”¨å¤±è´¥:', error);
                    }
                }, 100);
            }
        });
    </script>
</body>

</html>
